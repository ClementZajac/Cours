@startuml

abstract Personne{
  - id : int
  - name : string
  - surname : string
}

class  ConsumerKafka{
}

abstract UtilisateurExterne{
  - listOfDonnation : Donnation[]
  + discoverAnimals(TypeZone) : Animal[]
}

class Sponsor{
  + doDonation(int) : void
}

class Utilisateur{}

abstract Donation{
  - id : int
  - amount : int
  - date : date
  - donateur : UtilisateurExterne
}

class DonationReguliére{
  - dateFin : date
}

class DonationPontuelle{
}

class Evenement{
  - id : int
  - name : string
  - date : date
  - description : string
  - ConsumerKafka : ConsumerKafka
}
class Vote{
  
}



class Animal{
    - id : int
    - weight : float
    - size : float
    - food : string
    - vulnerability : Vulnerability
    - family : string
    - life : int
    - habitat : string
    - geographicArea : string
    - numberIndividualConted : int
    - name : string
    - listOfDonnation : Donnation[]
    - listOfEvent : Evenement[]
    + addDonation(Donation) : void
    + addEvenement(Evenement) : void
}


enum Vulnerability <<enumeration>> {
  endangered
  vulnerable
  near_threatened
  least_concern
  data_deficient
  not_evaluated
}


interface AnimalRepository{
  + getAnimals(TypeZone) : Animal[]
  + getAnimal(id) : Animal
}

class AnimalRepositoryBDD{
  + getAnimals(TypeZone) : Animal[]
  + getAnimal(id) : Animal
}

class AnimalRepositoryAPI{
  + getAnimals(TypeZone) : Animal[]
  + getAnimal(id) : Animal
}

Animal "1..1" --> "0..*" Vulnerability

Donation  -- Animal
Evenement --|> Vote

Donation "0..*" -- "1..1" UtilisateurExterne

class AnimalRepositoryAPI implements AnimalRepository
class AnimalRepositoryBDD implements AnimalRepository

AnimalRepository -- UtilisateurExterne

'AnimalRepository "1..*" -- "1..*" Animal

(DonationPontuelle, DonationReguliére) . Donation

class Sponsor extends UtilisateurExterne
class Utilisateur extends UtilisateurExterne

class UtilisateurExterne extends Personne
class ConsumerKafka extends Personne

ConsumerKafka "1..1" -- "1..*" Evenement
Animal "1..1" -- "0..*" Evenement

@enduml
